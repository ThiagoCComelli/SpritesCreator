{"version":3,"sources":["components/components/Miniature.js","components/pages/App.js","index.js"],"names":["Miniature","props","style","minWidth","width","height","backgroundImage","image","backgroundSize","className","onClick","changeEdit","id","size","color","mask","download_","document","createElement","href","target","download","click","deleteMiniature","changeBackground","App","window","addEventListener","e","keyCode","configs","actualSize","console","log","useState","images","setImages","isActive","setActive","lineCap","lineWidth","pencil","changePencil","actualMask","changeConfigs","canvasRef","useRef","contextRef","it","useEffect","canvas","current","context","getContext","imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","getElementById","clientWidth","clientHeight","lineJoin","strokeStyle","background","back","Image","src","drawImage","miniature","filter","item","onMouseDown","nativeEvent","offsetX","offsetY","globalCompositeOperation","beginPath","moveTo","onMouseUp","closePath","onMouseMove","lineTo","stroke","ref","map","type","onChange","value","navigator","clipboard","writeText","alert","htmlFor","name","defaultValue","min","dataUrl","toDataURL","clearRect","ReactDOM","render"],"mappings":"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","file":"static/js/main.db3d8ccf.chunk.js","sourcesContent":["import React from 'react'\nimport {AiFillEdit,AiFillDelete} from 'react-icons/ai'\nimport {FaMask,FaDownload} from 'react-icons/fa'\n\nimport '../style/Miniature.css'\n\nfunction Miniature(props) {\n    const width = (90*props.width)/props.height\n    const style = {\n        minWidth: width,\n        backgroundImage: `url(${props.image})`,\n        backgroundSize: \"cover\"\n    }\n\n    const download = () => {\n        var download_ = document.createElement('a')\n        download_.href = props.image\n        download_.target = '_blank'\n        download_.download = `SpritesCreator-${props.id}.png`\n\n        download_.click()\n    }\n\n    return(\n        <>\n        <div className=\"miniatureIcons\">\n            <AiFillEdit className=\"miniIcons\" onClick={() => {props.changeEdit([props.image,props.id])}} size={20} />\n            <FaMask style={{color: `${props.mask ? \"green\" : \"black\"}`}} className=\"miniIcons\" size={20} />\n            <FaDownload onClick={download} className=\"miniIcons\" size={20} />\n            <AiFillDelete className=\"miniIcons\" onClick={() => {props.deleteMiniature([props.image,props.id])}} size={20} />\n        </div>\n        <div onClick={() => {props.changeBackground([props.image,props.id])}} className={`miniature ${props.mask ? \"miniatureMask\" : \"null\"}`} style={style}>\n            <label>{props.id}</label>\n        </div>\n        </>\n    )\n}\n\nexport default Miniature\n","import React, {useRef, useEffect, useState} from 'react'\nimport Miniature from '../components/Miniature'\nimport {FaEraser} from 'react-icons/fa'\n\nimport '../style/App.css'\n\nfunction App() {\n  window.addEventListener('keyup', (e) => {\n    if(e.keyCode === 68 && configs.actualSize !== 0) {\n      console.log(configs)\n    }\n  })\n\n  const [images,setImages] = useState([])\n  const [isActive, setActive] = useState(false)\n  const [pencil, changePencil] = useState({color:'#000000',lineCap:'round',lineWidth:5})\n  const [configs,changeConfigs] = useState({actualMask:null,actualSize:0})\n  const canvasRef = useRef(null)\n  const contextRef = useRef(null)\n  var it = 0\n\n  useEffect(() => {\n\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n\n    context.imageSmoothingEnabled = context.mozImageSmoothingEnabled = context.webkitImageSmoothingEnabled = false;\n\n    canvas.width = document.getElementById(\"canvas\").clientWidth\n    canvas.height = document.getElementById(\"canvas\").clientHeight\n    canvas.style.width = `100%`\n    canvas.style.height = `100%`\n\n    context.lineJoin = 'round'\n    context.lineCap = pencil.lineCap\n    context.strokeStyle = pencil.color\n    context.lineWidth = pencil.lineWidth\n    contextRef.current = context\n\n    // eslint-disable-next-line\n  },[])\n\n  useEffect(() => {\n    contextRef.current.strokeStyle = pencil.color\n    contextRef.current.lineCap = pencil.lineCap\n    contextRef.current.lineWidth = pencil.lineWidth\n  },[pencil])\n\n  const startDraw = ({nativeEvent}) => {\n    const {offsetX,offsetY} = nativeEvent\n    console.log(pencil.color)\n    if(pencil.color === 'erase'){\n      contextRef.current.globalCompositeOperation = 'destination-out'\n    } else {\n      contextRef.current.globalCompositeOperation = 'destination-over'\n    }\n    contextRef.current.beginPath()\n    contextRef.current.moveTo(offsetX,offsetY)\n    setActive(true)\n  }\n\n  const draw = ({nativeEvent}) => {\n    if(!isActive){\n      return\n    }\n    const {offsetX,offsetY} = nativeEvent\n    contextRef.current.lineTo(offsetX,offsetY)\n    contextRef.current.stroke()\n\n  }\n\n  const finishDraw = () => {\n    contextRef.current.closePath()\n    setActive(false)\n  }\n\n  // const onePixelDraw = ({nativeEvent}) => {\n  //   const {offsetX,offsetY} = nativeEvent\n  //   contextRef.current.fillRect(offsetX,offsetY,pencil.lineWidth,pencil.lineWidth)\n  // }\n\n\n  const changeBackground = ([background,id]) => {\n    var back = background\n    if(background === configs.actualMask){\n      document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n      back = null\n    } else {\n      document.getElementById(\"canvas\").style.backgroundImage = `url(${background})`\n    }\n    \n    changeConfigs({...configs,actualMask:back})\n  }\n\n  const changeEdit = ([background,id]) => {\n    document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n    changeConfigs({...configs,actualMask:null})\n    deleteMiniature([background,id])\n\n    var backgroundImage = new Image()\n    backgroundImage.src = background\n\n    contextRef.current.drawImage(backgroundImage,0,0)\n  }\n\n  const deleteMiniature = ([miniature,id]) => {\n    setImages(images.filter(item => item !== miniature))\n\n    changeConfigs({...configs,actualSize:configs.actualSize-1})\n\n    if(miniature === configs.actualMask){\n      document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"canvasDiv\" id=\"canvas\">\n        <canvas onMouseDown={startDraw} onMouseUp={finishDraw} onMouseMove={draw} ref={canvasRef}/>\n      </div>\n      <div className=\"canvasOptions\">\n        {images.map((image) => {\n          it++\n          return <Miniature mask={configs.actualMask === image ? true : false} changeEdit={changeEdit} deleteMiniature={deleteMiniature} changeBackground={changeBackground} key={it} id={it} image={image} width={canvasRef.current.width} height={canvasRef.current.height}/>\n        })}\n      </div>\n      <div className=\"canvasOptions\">\n        <div className=\"canvasColorPicker canvasOptionsBox\">\n          <input id=\"colorInput\" type=\"color\" onChange={(e) => {changePencil({...pencil,color:e.target.value})}}></input>\n          <strong onClick={() => {\n            navigator.clipboard.writeText(pencil.color)\n            alert(`Color copied: ${pencil.color}`)\n          }}>{pencil.color}</strong>\n        </div>\n        <div className=\"canvasEraser canvasOptionsBox\">\n          <FaEraser onClick={(e) => {changePencil({...pencil,color:\"erase\"})}} className=\"FaEraser\" size={40} />\n        </div>\n        <div className=\"canvasStrokePicker canvasOptionsBox\">\n          <label htmlFor=\"lineCap\">LineCap:</label>\n          <select name=\"lineCap\" id=\"lineCap\" defaultValue=\"round\" onChange={(e) => {changePencil({...pencil,lineCap:e.target.value})}}>\n            <option value=\"butt\">Butt</option>\n            <option value=\"square\">Square</option>\n            <option value=\"round\">Round</option>\n          </select>\n        </div>\n        <div className=\"canvasLineWidth canvasOptionsBox\">\n          <label>Line Width:</label>\n          <input type=\"number\" defaultValue=\"5\" min='1' onChange={(e) => {changePencil({...pencil,lineWidth:e.target.value})}}></input>\n        </div>\n        <div className=\"canvasNewLayer canvasOptionsBox\">\n          <button onClick={() => {\n            var dataUrl = canvasRef.current.toDataURL()\n\n            setImages(images => [...images,dataUrl])\n            changeConfigs({...configs,actualMask:dataUrl,actualSize:configs.actualSize+1})\n\n            document.getElementById(\"canvas\").style.backgroundImage = `url(${dataUrl})`\n            contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height)\n            }}>New Layer</button>\n        </div>\n        <div className=\"canvasClear canvasOptionsBox\">\n          <button onClick={() => {\n            contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height)\n            }}>Clear</button>\n        </div>\n        <div className=\"canvasReset canvasOptionsBox\">\n          <button onClick={() => {\n            setImages([])\n\n            document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n            contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height)\n            }}>Reset</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/pages/App';\n\nimport './components/style/Index.css'\n\nReactDOM.render(<App />,document.getElementById('root'));\n"],"sourceRoot":""}