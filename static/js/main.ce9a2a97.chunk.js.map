{"version":3,"sources":["components/components/Miniature.js","components/pages/App.js","index.js"],"names":["Miniature","props","style","minWidth","width","height","backgroundImage","image","backgroundSize","className","onClick","changeEdit","id","size","color","mask","deleteMiniature","changeBackground","App","window","addEventListener","e","keyCode","configs","actualSize","console","log","useState","images","setImages","isActive","setActive","lineCap","lineWidth","pencil","changePencil","actualMask","changeConfigs","canvasRef","useRef","contextRef","it","useEffect","canvas","current","context","getContext","document","getElementById","clientWidth","clientHeight","lineJoin","strokeStyle","background","back","Image","src","drawImage","miniature","filter","item","onMouseDown","nativeEvent","offsetX","offsetY","beginPath","moveTo","onMouseUp","closePath","onMouseMove","lineTo","stroke","ref","map","type","onChange","target","value","navigator","clipboard","writeText","alert","htmlFor","name","defaultValue","min","dataUrl","toDataURL","clearRect","ReactDOM","render"],"mappings":"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","file":"static/js/main.ce9a2a97.chunk.js","sourcesContent":["import React from 'react'\nimport {AiFillEdit,AiFillDelete} from 'react-icons/ai'\nimport {FaMask} from 'react-icons/fa'\n\nimport '../style/Miniature.css'\n\nfunction Miniature(props) {\n    const width = (90*props.width)/props.height\n    const style = {\n        minWidth: width,\n        backgroundImage: `url(${props.image})`,\n        backgroundSize: \"cover\"\n    }\n\n    return(\n        <>\n        <div className=\"miniatureIcons\">\n            <AiFillEdit className=\"miniIcons\" onClick={() => {props.changeEdit([props.image,props.id])}} size={20} />\n            <FaMask style={{color: `${props.mask ? \"green\" : \"black\"}`}} className=\"miniIcons\" size={20} />\n            <AiFillDelete className=\"miniIcons\" onClick={() => {props.deleteMiniature([props.image,props.id])}} size={20} />\n        </div>\n        <div onClick={() => {props.changeBackground([props.image,props.id])}} className={`miniature ${props.mask ? \"miniatureMask\" : \"null\"}`} style={style}>\n            <label>{props.id}</label>\n        </div>\n        </>\n    )\n}\n\nexport default Miniature\n","import React, {useRef, useEffect, useState} from 'react'\nimport Miniature from '../components/Miniature'\n\nimport '../style/App.css'\n\nfunction App() {\n  window.addEventListener('keyup', (e) => {\n    if(e.keyCode === 68 && configs.actualSize !== 0) {\n      console.log(configs)\n    }\n  })\n\n  const [images,setImages] = useState([])\n  const [isActive, setActive] = useState(false)\n  const [pencil, changePencil] = useState({color:'#000000',lineCap:'round',lineWidth:5})\n  const [configs,changeConfigs] = useState({actualMask:null,actualSize:0})\n  const canvasRef = useRef(null)\n  const contextRef = useRef(null)\n  var it = 0\n\n  useEffect(() => {\n\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n\n    canvas.width = document.getElementById(\"canvas\").clientWidth\n    canvas.height = document.getElementById(\"canvas\").clientHeight\n    canvas.style.width = `100%`\n    canvas.style.height = `100%`\n\n    context.lineJoin = 'round'\n    context.lineCap = pencil.lineCap\n    context.strokeStyle = pencil.color\n    context.lineWidth = pencil.lineWidth\n    contextRef.current = context\n\n    // eslint-disable-next-line\n  },[])\n\n  useEffect(() => {\n    contextRef.current.strokeStyle = pencil.color\n    contextRef.current.lineCap = pencil.lineCap\n    contextRef.current.lineWidth = pencil.lineWidth\n  },[pencil])\n\n  const startDraw = ({nativeEvent}) => {\n    const {offsetX,offsetY} = nativeEvent\n    contextRef.current.beginPath()\n    contextRef.current.moveTo(offsetX,offsetY)\n    setActive(true)\n  }\n\n  const draw = ({nativeEvent}) => {\n    if(!isActive){\n      return\n    }\n    const {offsetX,offsetY} = nativeEvent\n    contextRef.current.lineTo(offsetX,offsetY)\n    contextRef.current.stroke()\n\n  }\n\n  const finishDraw = () => {\n    contextRef.current.closePath()\n    setActive(false)\n  }\n\n  const changeBackground = ([background,id]) => {\n    var back = background\n    if(background === configs.actualMask){\n      document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n      back = null\n    } else {\n      document.getElementById(\"canvas\").style.backgroundImage = `url(${background})`\n    }\n    \n    changeConfigs({...configs,actualMask:back})\n  }\n\n  const changeEdit = ([background,id]) => {\n    document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n    changeConfigs({...configs,actualMask:null})\n    deleteMiniature([background,id])\n\n    var backgroundImage = new Image()\n    backgroundImage.src = background\n\n    contextRef.current.drawImage(backgroundImage,0,0)\n\n\n  }\n\n  const deleteMiniature = ([miniature,id]) => {\n    setImages(images.filter(item => item !== miniature))\n\n    changeConfigs({...configs,actualSize:configs.actualSize-1})\n\n    if(miniature === configs.actualMask){\n      document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"canvasDiv\" id=\"canvas\">\n        <canvas onMouseDown={startDraw} onMouseUp={finishDraw} onMouseMove={draw} ref={canvasRef}/>\n      </div>\n      <div className=\"canvasOptions\">\n        {images.map((image) => {\n          it++\n          return <Miniature mask={configs.actualMask === image ? true : false} changeEdit={changeEdit} deleteMiniature={deleteMiniature} changeBackground={changeBackground} key={it} id={it} image={image} width={canvasRef.current.width} height={canvasRef.current.height}/>\n        })}\n      </div>\n      <div className=\"canvasOptions\">\n        <div className=\"canvasColorPicker canvasOptionsBox\">\n          <input id=\"colorInput\" type=\"color\" onChange={(e) => {changePencil({...pencil,color:e.target.value})}}></input>\n          <strong onClick={() => {\n            navigator.clipboard.writeText(pencil.color)\n            alert(`Color copied: ${pencil.color}`)\n          }}>{pencil.color}</strong>\n        </div>\n        <div className=\"canvasStrokePicker canvasOptionsBox\">\n          <label htmlFor=\"lineCap\">LineCap:</label>\n          <select name=\"lineCap\" id=\"lineCap\" defaultValue=\"round\" onChange={(e) => {changePencil({...pencil,lineCap:e.target.value})}}>\n            <option value=\"butt\">Butt</option>\n            <option value=\"square\">Square</option>\n            <option value=\"round\">Round</option>\n          </select>\n        </div>\n        <div className=\"canvasLineWidth canvasOptionsBox\">\n          <label>Line Width:</label>\n          <input type=\"number\" defaultValue=\"5\" min='1' onChange={(e) => {changePencil({...pencil,lineWidth:e.target.value})}}></input>\n        </div>\n        <div className=\"canvasNewLayer canvasOptionsBox\">\n          <button onClick={() => {\n            var dataUrl = canvasRef.current.toDataURL()\n\n            setImages(images => [...images,dataUrl])\n            changeConfigs({...configs,actualMask:dataUrl,actualSize:configs.actualSize+1})\n\n            document.getElementById(\"canvas\").style.backgroundImage = `url(${dataUrl})`\n            contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height)\n            }}>New Layer</button>\n        </div>\n        <div className=\"canvasClear canvasOptionsBox\">\n          <button onClick={() => {\n            contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height)\n            }}>Clear</button>\n        </div>\n        <div className=\"canvasReset canvasOptionsBox\">\n          <button onClick={() => {\n            setImages([])\n\n            document.getElementById(\"canvas\").style.backgroundImage = \"none\"\n            contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height)\n            }}>Reset</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/pages/App';\n\nimport './components/style/Index.css'\n\nReactDOM.render(<App />,document.getElementById('root'));\n"],"sourceRoot":""}